<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <link rel="icon" href="/favicon.svg" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>智能减脂保肌营养计算器</title>
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <div class="container">
    <header>
      <h1>智能减脂保肌营养计算器</h1>
      <p class="subtitle">科学计算您的每日营养需求，制定个性化饮食计划</p>
    </header>

    <div class="main-content">
      <div class="panel">
        <h2>个人信息</h2>

        <div class="form-group">
          <label for="weight">体重 (kg)</label>
          <input type="number" id="weight" min="30" max="200" value="70">
        </div>

        <div class="form-group">
          <label for="height">身高 (cm)</label>
          <input type="number" id="height" min="100" max="250" value="175">
        </div>

        <div class="form-group">
          <label for="age">年龄</label>
          <input type="number" id="age" min="15" max="100" value="30">
        </div>

        <div class="form-group">
          <label for="gender">性别</label>
          <select id="gender">
            <option value="male">男性</option>
            <option value="female">女性</option>
          </select>
        </div>

        <div class="form-group">
          <label for="goal">目标</label>
          <select id="goal">
            <option value="loss">减脂</option>
            <option value="maintain" selected>维持体重</option>
            <option value="gain">增肌</option>
          </select>
        </div>

        <div class="form-group">
          <label for="activity">活动水平</label>
          <select id="activity">
            <option value="1.2">久坐（办公室工作，几乎不运动）</option>
            <option value="1.375">轻度活动（每周1-3天轻度运动）</option>
            <option value="1.55" selected>中度活动（每周3-5天中等强度运动）</option>
            <option value="1.725">高度活动（每周6-7天高强度运动）</option>
            <option value="1.9">极度活跃（体力劳动工作或专业运动员）</option>
          </select>
        </div>
      </div>

      <div class="panel">
        <h2>早餐食材选择</h2>
        <div class="food-categories" id="breakfastFoodCategories">
          <!-- 早餐食材将在这里动态生成 -->
        </div>
      </div>

      <div class="panel">
        <h2>午餐/晚餐食材选择</h2>
        <div class="food-categories" id="regularFoodCategories">
          <!-- 午餐/晚餐食材将在这里动态生成 -->
        </div>
      </div>
    </div>

    <div class="btn-container">
      <button id="calculateBtn" class="btn">
        <span class="btn-text">计算营养需求</span>
      </button>
      <button id="exportBtn" class="btn btn-export">
        <span class="btn-text">导出为图片</span>
      </button>
    </div>

    <div class="results" id="resultsSection">
      <div class="summary-card">
        <h2>您的营养需求</h2>

        <div class="metric-grid">
          <div class="metric-card">
            <div class="metric-label">基础代谢率 (BMR)</div>
            <div class="metric-value" id="bmrValue">--</div>
            <div class="metric-label">千卡/天</div>
          </div>

          <div class="metric-card">
            <div class="metric-label">每日总能量消耗 (TDEE)</div>
            <div class="metric-value" id="tdeeValue">--</div>
            <div class="metric-label">千卡/天</div>
          </div>

          <div class="metric-card">
            <div class="metric-label">目标热量摄入</div>
            <div class="metric-value" id="targetCalories">--</div>
            <div class="metric-label">千卡/天</div>
          </div>

          <div class="metric-card">
            <div class="metric-label">蛋白质需求</div>
            <div class="metric-value" id="proteinTarget">--</div>
            <div class="metric-label">克/天</div>
          </div>
        </div>

        <h3>宏量营养素分配</h3>

        <div class="macronutrients">
          <div class="macro">
            <div class="macro-label">碳水化合物</div>
            <div class="macro-value macro-carbs" id="carbsTarget">--</div>
            <div class="macro-unit">克/天</div>
            <div class="progress-bar">
              <div class="progress progress-carbs" id="carbsProgress" style="width: 0%"></div>
            </div>
            <div class="macro-percentage" id="carbsPercentage">--%</div>
          </div>

          <div class="macro">
            <div class="macro-label">蛋白质</div>
            <div class="macro-value macro-protein" id="proteinTarget2">--</div>
            <div class="macro-unit">克/天</div>
            <div class="progress-bar">
              <div class="progress progress-protein" id="proteinProgress" style="width: 0%"></div>
            </div>
            <div class="macro-percentage" id="proteinPercentage">--%</div>
          </div>

          <div class="macro">
            <div class="macro-label">脂肪</div>
            <div class="macro-value macro-fat" id="fatTarget">--</div>
            <div class="macro-unit">克/天</div>
            <div class="progress-bar">
              <div class="progress progress-fat" id="fatProgress" style="width: 0%"></div>
            </div>
            <div class="macro-percentage" id="fatPercentage">--%</div>
          </div>
        </div>
      </div>

      <div class="summary-card">
        <h2>推荐饮食计划</h2>

        <div class="adjustment-notice">
          💡 提示：您可以直接修改食材数量，系统将实时更新营养计算
        </div>

        <div class="meal-plan">
          <div class="meal">
            <h3>早餐 (20%)</h3>
            <!-- 添加早餐汇总 -->
            <div class="meal-summary" id="breakfastSummary">
              <div class="meal-summary-grid">
                <div class="meal-summary-item">
                  <div class="meal-summary-label">热量</div>
                  <div class="meal-summary-value" id="breakfastCalories">--</div>
                  <div class="meal-summary-label">千卡</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">碳水</div>
                  <div class="meal-summary-value" id="breakfastCarbs">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">蛋白质</div>
                  <div class="meal-summary-value" id="breakfastProtein">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">脂肪</div>
                  <div class="meal-summary-value" id="breakfastFat">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
              </div>
            </div>
            <ul class="food-list" id="breakfastList">
              <li>请选择食材并计算</li>
            </ul>
          </div>

          <div class="meal">
            <h3>午餐 (45%)</h3>
            <!-- 添加午餐汇总 -->
            <div class="meal-summary" id="lunchSummary">
              <div class="meal-summary-grid">
                <div class="meal-summary-item">
                  <div class="meal-summary-label">热量</div>
                  <div class="meal-summary-value" id="lunchCalories">--</div>
                  <div class="meal-summary-label">千卡</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">碳水</div>
                  <div class="meal-summary-value" id="lunchCarbs">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">蛋白质</div>
                  <div class="meal-summary-value" id="lunchProtein">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">脂肪</div>
                  <div class="meal-summary-value" id="lunchFat">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
              </div>
            </div>
            <ul class="food-list" id="lunchList">
              <li>请选择食材并计算</li>
            </ul>
          </div>

          <div class="meal">
            <h3>晚餐 (35%)</h3>
            <!-- 添加晚餐汇总 -->
            <div class="meal-summary" id="dinnerSummary">
              <div class="meal-summary-grid">
                <div class="meal-summary-item">
                  <div class="meal-summary-label">热量</div>
                  <div class="meal-summary-value" id="dinnerCalories">--</div>
                  <div class="meal-summary-label">千卡</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">碳水</div>
                  <div class="meal-summary-value" id="dinnerCarbs">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">蛋白质</div>
                  <div class="meal-summary-value" id="dinnerProtein">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
                <div class="meal-summary-item">
                  <div class="meal-summary-label">脂肪</div>
                  <div class="meal-summary-value" id="dinnerFat">--</div>
                  <div class="meal-summary-label">克</div>
                </div>
              </div>
            </div>
            <ul class="food-list" id="dinnerList">
              <li>请选择食材并计算</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 固定汇总卡片 -->
      <div class="fixed-summary" id="fixedSummary">
        <h3>全天营养总览</h3>
        <div class="total-summary-grid">
          <div class="total-summary-item">
            <div class="total-summary-label">总热量</div>
            <div class="total-summary-value" id="totalCalories">--</div>
            <div class="total-summary-label">千卡</div>
            <div class="macro-bar">
              <div class="macro-fill calorie-fill" id="totalCaloriesBar" style="width: 0%"></div>
            </div>
            <div class="total-summary-label" id="totalCaloriesPercentage">--%</div>
          </div>
          <div class="total-summary-item">
            <div class="total-summary-label">总碳水</div>
            <div class="total-summary-value" id="totalCarbs">--</div>
            <div class="total-summary-label">克</div>
            <div class="macro-bar">
              <div class="macro-fill carbs-fill" id="totalCarbsBar" style="width: 0%"></div>
            </div>
            <div class="total-summary-label" id="totalCarbsPercentage">--%</div>
          </div>
          <div class="total-summary-item">
            <div class="total-summary-label">总蛋白质</div>
            <div class="total-summary-value" id="totalProtein">--</div>
            <div class="total-summary-label">克</div>
            <div class="macro-bar">
              <div class="macro-fill protein-fill" id="totalProteinBar" style="width: 0%"></div>
            </div>
            <div class="total-summary-label" id="totalProteinPercentage">--%</div>
          </div>
          <div class="total-summary-item">
            <div class="total-summary-label">总脂肪</div>
            <div class="total-summary-value" id="totalFat">--</div>
            <div class="total-summary-label">克</div>
            <div class="macro-bar">
              <div class="macro-fill fat-fill" id="totalFatBar" style="width: 0%"></div>
            </div>
            <div class="total-summary-label" id="totalFatPercentage">--%</div>
          </div>
        </div>
      </div>

      <div class="summary-card">
        <div class="recommendations">
          <h3>个性化建议</h3>
          <ul id="recommendationsList">
            <li>请选择食材并计算以获取个性化建议</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- 引入html2canvas库 -->
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

  <script src="/index.js"></script>
</body>

</html>